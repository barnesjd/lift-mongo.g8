/*! bsAlerts version: 0.1.0
*  2013-03-24
*  Author: Tim Nelson
*  Website: http://eltimn.github.com/jquery-bs-alerts
*  MIT License http://www.opensource.org/licenses/mit-license.php
*/
(function(t,r,n){"use strict";function e(r){return{errs:t.grep(r,function(t){return"error"===t.priority||"danger"===t.priority}),warns:t.grep(r,function(t){return"warning"===t.priority}),infos:t.grep(r,function(t){return"notice"===t.priority||"info"===t.priority}),succs:t.grep(r,function(t){return"success"===t.priority})}}function i(t){return"notice"===t?"info":"danger"===t?"error":t}function s(r,n){t.each(n,function(n,e){r.append(t("<li/>").html(e.message))})}var a=function(r,e){var i=this;this.element=r,this.options=t.extend({},t.fn.bsAlerts.defaults,e),t(n).on("add-alerts",function(){var t=Array.prototype.slice.call(arguments,1);i.addAlerts(t)}),t(n).on("clear-alerts",function(){i.clearAlerts()}),t.each(this.options.ids.split(","),function(r,e){var s=e.trim();if(s.length>0){var a="set-alert-id-"+s;t(n).on(a,function(){var t=Array.prototype.slice.call(arguments,1);i.addAlerts(t)})}})};a.prototype={constructor:a,clearAlerts:function(){t(this.element).html("")},addAlerts:function(t){var r=e([].concat(t));this.addAlertsToContainer(r.errs),this.addAlertsToContainer(r.warns),this.addAlertsToContainer(r.infos),this.addAlertsToContainer(r.succs)},buildNoticeContainer:function(r){if(r.length>0){var n=i(r[0].priority),e=t("<button/>",{type:"button","class":"close","data-dismiss":"alert"}).html("&times;"),a=t("<ul/>");s(a,r);var o=t("<div/>",{"data-alerts-container":n,"class":"alert alert-"+n});o.append(e);var l=this.options.titles[n];return l&&l.length>0&&o.append(t("<strong/>").html(l)),o.append(a)}return null},addAlertsToContainer:function(r){if(r.length>0){var n=t(this.element),e=i(r[0].priority),a=t("[data-alerts-container='"+e+"']",n);if(a.length>0){var o=a.find("ul");s(o,r)}else a=this.buildNoticeContainer(r),n.append(a)}}};var o=t.fn.bsAlerts;t.fn.bsAlerts=function(r){return this.each(function(){var n=t(this),e=n.data("bsAlerts"),i="object"==typeof r&&r;e||n.data("bsAlerts",e=new a(this,i)),"string"==typeof r&&e[r]()})},t.fn.bsAlerts.Constructor=a,t.fn.bsAlerts.defaults={titles:{},ids:""},t.fn.bsAlerts.noConflict=function(){return t.fn.bsAlerts=o,this},t(n).ready(function(){t('[data-alerts="alerts"]').each(function(){var r=t(this);r.bsAlerts(r.data())})})})(jQuery,window,document);